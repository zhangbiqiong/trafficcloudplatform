
分库分表的目的在于提高查询效率，和毅麟电话沟通后，给出了如下意见

第一，避免使用数据库存储过程进行开发，其会给后续的维护工作带来不必要的麻烦，所有后台功能均尽量使用java代码实现

第二，分库分表需要避免出现跨表查询，推荐方案如下

首先，针对客户进行分表，这样可以确保小客户(设备较少)的查询效率

其次，对于大客户(设备较多)，采用 数学中的取模 来做分表，这样 数据的进出逻辑比较简单，同时也不会产生跨表查询

举例来说，三台设备，编号分别为 25,56,79 用10作为模，那么这三台设备的数据就分别在三张表中(table_5,table_6,table_9)

上面的方案基于下面两个业务前提

1，A客户不关心B客户的设备数据

2，页面查询，常常以某个或者某几个设备为查询对象

